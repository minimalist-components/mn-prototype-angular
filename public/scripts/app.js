"use strict";function ApiConfig(RestangularProvider){RestangularProvider.setBaseUrl("https://private-a82ea-samples9.apiary-mock.com")}function appConfig($locationProvider,$stateProvider){$locationProvider.html5Mode(!0),$stateProvider.state("app",{"abstract":!0,views:{main:{templateUrl:"templates/app.template.html"}}})}function HomeConfig($stateProvider){$stateProvider.state("app.home",{url:"/",redirectTo:"app.users"})}function loadingConfig(cfpLoadingBarProvider){cfpLoadingBarProvider.includeSpinner=!1,cfpLoadingBarProvider.includeBar=!0}function LoginConfig($stateProvider){$stateProvider.state("login",{url:"/login",views:{main:{templateUrl:"templates/login.template.html",controller:"LoginController",controllerAs:"login"}}})}function LoginController(AuthenticationService,$state){function authenticate(){function redirectToHome(){$state.go("app.home")}AuthenticationService.login(this.credentials).then(redirectToHome)}var username=void 0,password=void 0;this.credentials={username:username,password:password},this.authenticate=authenticate}function LoginRun($rootScope,$state,AuthenticationService){function requireAuthentication(event,toState){toState.name.startsWith("app."),AuthenticationService.status();return!1}$rootScope.$on("$stateChangeStart",requireAuthentication)}function AuthenticationConfig($authProvider){$authProvider.loginUrl="",$authProvider.authHeader="Authorization",$authProvider.tokenType="Bearer",$authProvider.authToken="",$authProvider.storageType="localStorage"}function AuthenticationService($auth){this.login=function(user){return $auth.login(user)},this.logout=function(){return $auth.logout()},this.status=function(){return $auth.isAuthenticated()},this.user=function(){return $auth.getPayload()}}function PromisesConfig($qProvider){$qProvider.errorOnUnhandledRejections(!1)}function UsersConfig($stateProvider){$stateProvider.state("app.users",{url:"/users",views:{"content@app":{templateUrl:"templates/users-list.template.html",controller:"UsersController",controllerAs:"users",resolve:{list:function(Users){return Users.list()},data:function(){return null}}}}}).state("app.users.edit",{url:"/:id",views:{"content@app":{templateUrl:"templates/users-form.template.html",controller:"UsersController",controllerAs:"users",resolve:{list:function(){return null},data:function(Users){return Users.get("johnsnow")}}}}})}function UsersController(list,data){function save(){console.log(this.data)}this.list=list,this.data=data,this.save=save}function UsersService(Restangular){function list(){return resource.getList()}function get(id){return resource.one(id).get()}var resource=Restangular.service("users");this.list=list,this.get=get}angular.module("prototype",["ui.router","ui.router.redirect","satellizer","mn-form","mn-input","restangular","angular-loading-bar"]),ApiConfig.$inject=["RestangularProvider"],angular.module("prototype").config(ApiConfig),appConfig.$inject=["$locationProvider","$stateProvider"],angular.module("prototype").config(appConfig),HomeConfig.$inject=["$stateProvider"],angular.module("prototype").config(HomeConfig),loadingConfig.$inject=["cfpLoadingBarProvider"],angular.module("prototype").config(loadingConfig),LoginConfig.$inject=["$stateProvider"],angular.module("prototype").config(LoginConfig),LoginController.$inject=["AuthenticationService","$state"],angular.module("prototype").controller("LoginController",LoginController),LoginRun.$inject=["$rootScope","$state","AuthenticationService"],angular.module("prototype").run(LoginRun),AuthenticationConfig.$inject=["$authProvider"],angular.module("prototype").config(AuthenticationConfig),AuthenticationService.$inject=["$auth"],angular.module("prototype").service("AuthenticationService",AuthenticationService),PromisesConfig.$inject=["$qProvider"],angular.module("prototype").config(PromisesConfig),UsersConfig.$inject=["$stateProvider"],angular.module("prototype").config(UsersConfig),UsersController.$inject=["list","data"],angular.module("prototype").controller("UsersController",UsersController),UsersService.$inject=["Restangular"],angular.module("prototype").service("Users",UsersService);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImFwaS9hcGkuY29uZmlnLmpzIiwiYXBwL2FwcC5jb25maWcuanMiLCJob21lL2hvbWUuY29uZmlnLmpzIiwibG9hZGluZy1iYXIvbG9hZGluZy1iYXIuY29uZmlnLmpzIiwibG9naW4vbG9naW4uY29uZmlnLmpzIiwibG9naW4vbG9naW4uY29udHJvbGxlci5qcyIsImxvZ2luL2xvZ2luLnJ1bi5qcyIsImF1dGhlbnRpY2F0aW9uL2F1dGhlbnRpY2F0aW9uLmNvbmZpZy5qcyIsImF1dGhlbnRpY2F0aW9uL2F1dGhlbnRpY2F0aW9uLnNlcnZpY2UuanMiLCJwcm9taXNlcy9wcm9taXNlcy5jb25maWcuanMiLCJ1c2Vycy91c2Vycy5jb25maWcuanMiLCJ1c2Vycy91c2Vycy5jb250cm9sbGVyLmpzIiwidXNlcnMvdXNlcnMuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJBcGlDb25maWciLCJSZXN0YW5ndWxhclByb3ZpZGVyIiwic2V0QmFzZVVybCIsImFwcENvbmZpZyIsIiRsb2NhdGlvblByb3ZpZGVyIiwiJHN0YXRlUHJvdmlkZXIiLCJodG1sNU1vZGUiLCJzdGF0ZSIsImFic3RyYWN0Iiwidmlld3MiLCJtYWluIiwidGVtcGxhdGVVcmwiLCJIb21lQ29uZmlnIiwidXJsIiwicmVkaXJlY3RUbyIsImxvYWRpbmdDb25maWciLCJjZnBMb2FkaW5nQmFyUHJvdmlkZXIiLCJpbmNsdWRlU3Bpbm5lciIsImluY2x1ZGVCYXIiLCJMb2dpbkNvbmZpZyIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJMb2dpbkNvbnRyb2xsZXIiLCJBdXRoZW50aWNhdGlvblNlcnZpY2UiLCIkc3RhdGUiLCJhdXRoZW50aWNhdGUiLCJyZWRpcmVjdFRvSG9tZSIsImdvIiwibG9naW4iLCJ0aGlzIiwiY3JlZGVudGlhbHMiLCJ0aGVuIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsIkxvZ2luUnVuIiwiJHJvb3RTY29wZSIsInJlcXVpcmVBdXRoZW50aWNhdGlvbiIsImV2ZW50IiwidG9TdGF0ZSIsIm5hbWUiLCJzdGFydHNXaXRoIiwic3RhdHVzIiwiJG9uIiwiQXV0aGVudGljYXRpb25Db25maWciLCIkYXV0aFByb3ZpZGVyIiwibG9naW5VcmwiLCJhdXRoSGVhZGVyIiwidG9rZW5UeXBlIiwiYXV0aFRva2VuIiwic3RvcmFnZVR5cGUiLCIkYXV0aCIsInVzZXIiLCJsb2dvdXQiLCJpc0F1dGhlbnRpY2F0ZWQiLCJnZXRQYXlsb2FkIiwiUHJvbWlzZXNDb25maWciLCIkcVByb3ZpZGVyIiwiZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnMiLCJVc2Vyc0NvbmZpZyIsImNvbnRlbnRAYXBwIiwicmVzb2x2ZSIsImxpc3QiLCJVc2VycyIsImRhdGEiLCJnZXQiLCJVc2Vyc0NvbnRyb2xsZXIiLCJzYXZlIiwiY29uc29sZSIsImxvZyIsIlVzZXJzU2VydmljZSIsIlJlc3Rhbmd1bGFyIiwicmVzb3VyY2UiLCJnZXRMaXN0IiwiaWQiLCJvbmUiLCJzZXJ2aWNlIiwiYW5ndWxhciIsIm1vZHVsZSIsIiRpbmplY3QiLCJjb25maWciLCJydW4iXSwibWFwcGluZ3MiOiJBQUFBLFlDSUEsU0FBU0EsV0FBVUMscUJBQ2pCQSxvQkFBb0JDLFdBQVcsa0RDRGpDLFFBQVNDLFdBQVVDLGtCQUFtQkMsZ0JBQ3BDRCxrQkFBa0JFLFdBQVUsR0FFNUJELGVBQWVFLE1BQU0sT0FDbkJDLFlBQVUsRUFDVkMsT0FDRUMsTUFDRUMsWUFBYSxrQ0NQckIsUUFBU0MsWUFBV1AsZ0JBQ2xCQSxlQUNHRSxNQUFNLFlBQ0xNLElBQUssSUFDTEMsV0FBWSxjQ0psQixRQUFTQyxlQUFjQyx1QkFDckJBLHNCQUFzQkMsZ0JBQWlCLEVBQ3ZDRCxzQkFBc0JFLFlBQWEsRUNGckMsUUFBU0MsYUFBWWQsZ0JBQ25CQSxlQUFlRSxNQUFNLFNBQ25CTSxJQUFLLFNBQ0xKLE9BQ0VDLE1BQ0VDLFlBQWEsZ0NBQ2JTLFdBQVksa0JBQ1pDLGFBQWMsWUNQdEIsUUFBU0MsaUJBQWdCQyxzQkFBdUJDLFFBVzlDLFFB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QUNQRSxPQUFPeEIsZ0JDRFZHLFlBQVlvQixTQUFXLGtCQUR2QkYsUUFDR0MsT0FBTyxhQUNQRSxPQUFPckIsYUNEVk8sZ0JBQWdCYSxTQUFXLE9BQVEsUUFEbkNGLFFBQ0dDLE9BQU8sYUFDUHpELFdBQVcsa0JBQW1CNkMsaUJDRGpDSSxhQUFhUyxTQUFXLGVBRHhCRixRQUNHQyxPQUFPLGFBQ1BGLFFBQVEsUUFBU04iLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhci5tb2R1bGUoJ3Byb3RvdHlwZScsIFtcbiAgJ3VpLnJvdXRlcicsXG4gICd1aS5yb3V0ZXIucmVkaXJlY3QnLFxuICAnc2F0ZWxsaXplcicsXG4gICdtbi1mb3JtJyxcbiAgJ21uLWlucHV0JyxcbiAgJ3Jlc3Rhbmd1bGFyJyxcbiAgJ2FuZ3VsYXItbG9hZGluZy1iYXInLFxuXSlcbiIsImFuZ3VsYXJcbiAgLm1vZHVsZSgncHJvdG90eXBlJylcbiAgLmNvbmZpZyhBcGlDb25maWcpXG5cbmZ1bmN0aW9uIEFwaUNvbmZpZyhSZXN0YW5ndWxhclByb3ZpZGVyKSB7XG4gIFJlc3Rhbmd1bGFyUHJvdmlkZXIuc2V0QmFzZVVybCgnaHR0cHM6Ly9wcml2YXRlLWE4MmVhLXNhbXBsZXM5LmFwaWFyeS1tb2NrLmNvbScpXG59XG4iLCJhbmd1bGFyXG4gIC5tb2R1bGUoJ3Byb3RvdHlwZScpXG4gIC5jb25maWcoYXBwQ29uZmlnKVxuXG5mdW5jdGlvbiBhcHBDb25maWcoJGxvY2F0aW9uUHJvdmlkZXIsICRzdGF0ZVByb3ZpZGVyKSB7XG4gICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKVxuXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdhcHAnLCB7XG4gICAgYWJzdHJhY3Q6IHRydWUsXG4gICAgdmlld3M6IHtcbiAgICAgIG1haW46IHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZXMvYXBwLnRlbXBsYXRlLmh0bWwnLFxuICAgICAgfSxcbiAgICB9LFxuICB9KVxufVxuIiwiYW5ndWxhclxuICAubW9kdWxlKCdwcm90b3R5cGUnKVxuICAuY29uZmlnKEhvbWVDb25maWcpXG5cbmZ1bmN0aW9uIEhvbWVDb25maWcoJHN0YXRlUHJvdmlkZXIpIHtcbiAgJHN0YXRlUHJvdmlkZXJcbiAgICAuc3RhdGUoJ2FwcC5ob21lJywge1xuICAgICAgdXJsOiAnLycsXG4gICAgICByZWRpcmVjdFRvOiAnYXBwLnVzZXJzJyxcbiAgICB9KVxufVxuIiwiYW5ndWxhclxuICAubW9kdWxlKCdwcm90b3R5cGUnKVxuICAuY29uZmlnKGxvYWRpbmdDb25maWcpXG5cbmZ1bmN0aW9uIGxvYWRpbmdDb25maWcoY2ZwTG9hZGluZ0JhclByb3ZpZGVyKSB7XG4gIGNmcExvYWRpbmdCYXJQcm92aWRlci5pbmNsdWRlU3Bpbm5lciA9IGZhbHNlXG4gIGNmcExvYWRpbmdCYXJQcm92aWRlci5pbmNsdWRlQmFyID0gdHJ1ZVxufVxuIiwiYW5ndWxhclxuICAubW9kdWxlKCdwcm90b3R5cGUnKVxuICAuY29uZmlnKExvZ2luQ29uZmlnKVxuXG5mdW5jdGlvbiBMb2dpbkNvbmZpZygkc3RhdGVQcm92aWRlcikge1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZSgnbG9naW4nLCB7XG4gICAgdXJsOiAnL2xvZ2luJyxcbiAgICB2aWV3czoge1xuICAgICAgJ21haW4nOiB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGVzL2xvZ2luLnRlbXBsYXRlLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnTG9naW5Db250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAnbG9naW4nLFxuICAgICAgfSxcbiAgICB9LFxuICB9KVxufVxuXG4iLCJhbmd1bGFyXG4gIC5tb2R1bGUoJ3Byb3RvdHlwZScpXG4gIC5jb250cm9sbGVyKCdMb2dpbkNvbnRyb2xsZXInLCBMb2dpbkNvbnRyb2xsZXIpXG5cbmZ1bmN0aW9uIExvZ2luQ29udHJvbGxlcihBdXRoZW50aWNhdGlvblNlcnZpY2UsICRzdGF0ZSkge1xuICBsZXQgdXNlcm5hbWVcbiAgbGV0IHBhc3N3b3JkXG5cbiAgdGhpcy5jcmVkZW50aWFscyA9IHtcbiAgICB1c2VybmFtZSxcbiAgICBwYXNzd29yZCxcbiAgfVxuXG4gIHRoaXMuYXV0aGVudGljYXRlID0gYXV0aGVudGljYXRlXG5cbiAgZnVuY3Rpb24gYXV0aGVudGljYXRlKCkge1xuICAgIEF1dGhlbnRpY2F0aW9uU2VydmljZVxuICAgICAgLmxvZ2luKHRoaXMuY3JlZGVudGlhbHMpXG4gICAgICAudGhlbihyZWRpcmVjdFRvSG9tZSlcblxuICAgIGZ1bmN0aW9uIHJlZGlyZWN0VG9Ib21lKCkge1xuICAgICAgJHN0YXRlLmdvKCdhcHAuaG9tZScpXG4gICAgfVxuICB9XG59XG4iLCJhbmd1bGFyXG4gIC5tb2R1bGUoJ3Byb3RvdHlwZScpXG4gIC5ydW4oTG9naW5SdW4pXG5cbmZ1bmN0aW9uIExvZ2luUnVuKCRyb290U2NvcGUsICRzdGF0ZSwgQXV0aGVudGljYXRpb25TZXJ2aWNlKSB7XG4gICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsIHJlcXVpcmVBdXRoZW50aWNhdGlvbilcblxuICBmdW5jdGlvbiByZXF1aXJlQXV0aGVudGljYXRpb24oZXZlbnQsIHRvU3RhdGUpIHtcbiAgICBsZXQgc3RhdGVSZXF1aXJlTG9naW4gPSB0b1N0YXRlLm5hbWUuc3RhcnRzV2l0aCgnYXBwLicpXG4gICAgbGV0IGlzQXV0aGVudGljYXRlZCA9IEF1dGhlbnRpY2F0aW9uU2VydmljZS5zdGF0dXMoKVxuICAgIHJldHVybiBmYWxzZVxuXG4gICAgaWYgKHN0YXRlUmVxdWlyZUxvZ2luICYmICFpc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICRzdGF0ZS5nbygnbG9naW4nKVxuICAgIH1cbiAgfVxufVxuIiwiYW5ndWxhclxuICAubW9kdWxlKCdwcm90b3R5cGUnKVxuICAuY29uZmlnKEF1dGhlbnRpY2F0aW9uQ29uZmlnKVxuXG5mdW5jdGlvbiBBdXRoZW50aWNhdGlvbkNvbmZpZygkYXV0aFByb3ZpZGVyKSB7XG4gICRhdXRoUHJvdmlkZXIubG9naW5VcmwgPSAnJ1xuICAkYXV0aFByb3ZpZGVyLmF1dGhIZWFkZXIgPSAnQXV0aG9yaXphdGlvbidcbiAgJGF1dGhQcm92aWRlci50b2tlblR5cGUgPSAnQmVhcmVyJ1xuICAkYXV0aFByb3ZpZGVyLmF1dGhUb2tlbiA9ICcnXG4gICRhdXRoUHJvdmlkZXIuc3RvcmFnZVR5cGUgPSAnbG9jYWxTdG9yYWdlJ1xufVxuIiwiYW5ndWxhclxuICAubW9kdWxlKCdwcm90b3R5cGUnKVxuICAuc2VydmljZSgnQXV0aGVudGljYXRpb25TZXJ2aWNlJywgQXV0aGVudGljYXRpb25TZXJ2aWNlKVxuXG5mdW5jdGlvbiBBdXRoZW50aWNhdGlvblNlcnZpY2UoJGF1dGgpIHtcbiAgdGhpcy5sb2dpbiA9IHVzZXIgPT4gJGF1dGgubG9naW4odXNlcilcbiAgdGhpcy5sb2dvdXQgPSAoKSA9PiAkYXV0aC5sb2dvdXQoKVxuICB0aGlzLnN0YXR1cyA9ICgpID0+ICRhdXRoLmlzQXV0aGVudGljYXRlZCgpXG4gIHRoaXMudXNlciA9ICgpID0+ICRhdXRoLmdldFBheWxvYWQoKVxufVxuIiwiYW5ndWxhclxuICAubW9kdWxlKCdwcm90b3R5cGUnKVxuICAuY29uZmlnKFByb21pc2VzQ29uZmlnKVxuXG5mdW5jdGlvbiBQcm9taXNlc0NvbmZpZygkcVByb3ZpZGVyKSB7XG4gICRxUHJvdmlkZXIuZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnMoZmFsc2UpXG59XG4iLCJhbmd1bGFyXG4gIC5tb2R1bGUoJ3Byb3RvdHlwZScpXG4gIC5jb25maWcoVXNlcnNDb25maWcpXG5cbmZ1bmN0aW9uIFVzZXJzQ29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICRzdGF0ZVByb3ZpZGVyXG4gICAgLnN0YXRlKCdhcHAudXNlcnMnLCB7XG4gICAgICB1cmw6ICcvdXNlcnMnLFxuICAgICAgdmlld3M6IHtcbiAgICAgICAgJ2NvbnRlbnRAYXBwJzoge1xuICAgICAgICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGVzL3VzZXJzLWxpc3QudGVtcGxhdGUuaHRtbCcsXG4gICAgICAgICAgY29udHJvbGxlcjogJ1VzZXJzQ29udHJvbGxlcicsXG4gICAgICAgICAgY29udHJvbGxlckFzOiAndXNlcnMnLFxuICAgICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgIGxpc3Q6IFVzZXJzID0+IFVzZXJzLmxpc3QoKSxcbiAgICAgICAgICAgIGRhdGE6ICgpID0+IG51bGwsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAuc3RhdGUoJ2FwcC51c2Vycy5lZGl0Jywge1xuICAgICAgdXJsOiAnLzppZCcsXG4gICAgICB2aWV3czoge1xuICAgICAgICAnY29udGVudEBhcHAnOiB7XG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZXMvdXNlcnMtZm9ybS50ZW1wbGF0ZS5odG1sJyxcbiAgICAgICAgICBjb250cm9sbGVyOiAnVXNlcnNDb250cm9sbGVyJyxcbiAgICAgICAgICBjb250cm9sbGVyQXM6ICd1c2VycycsXG4gICAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgICAgbGlzdDogKCkgPT4gbnVsbCxcbiAgICAgICAgICAgIGRhdGE6IFVzZXJzID0+IFVzZXJzLmdldCgnam9obnNub3cnKVxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pXG59XG4iLCJhbmd1bGFyXG4gIC5tb2R1bGUoJ3Byb3RvdHlwZScpXG4gIC5jb250cm9sbGVyKCdVc2Vyc0NvbnRyb2xsZXInLCBVc2Vyc0NvbnRyb2xsZXIpXG5cbmZ1bmN0aW9uIFVzZXJzQ29udHJvbGxlcihsaXN0LCBkYXRhKSB7XG4gIHRoaXMubGlzdCA9IGxpc3RcbiAgdGhpcy5kYXRhID0gZGF0YVxuXG4gIHRoaXMuc2F2ZSA9IHNhdmVcblxuICBmdW5jdGlvbiBzYXZlKCkge1xuICAgIGNvbnNvbGUubG9nKHRoaXMuZGF0YSlcbiAgfVxufVxuIiwiYW5ndWxhclxuICAubW9kdWxlKCdwcm90b3R5cGUnKVxuICAuc2VydmljZSgnVXNlcnMnLCBVc2Vyc1NlcnZpY2UpXG5cbmZ1bmN0aW9uIFVzZXJzU2VydmljZShSZXN0YW5ndWxhcikge1xuICBjb25zdCByZXNvdXJjZSA9IFJlc3Rhbmd1bGFyLnNlcnZpY2UoJ3VzZXJzJylcblxuICB0aGlzLmxpc3QgPSBsaXN0XG4gIHRoaXMuZ2V0ID0gZ2V0XG5cbiAgZnVuY3Rpb24gbGlzdCgpIHtcbiAgICByZXR1cm4gcmVzb3VyY2UuZ2V0TGlzdCgpXG4gIH1cblxuICBmdW5jdGlvbiBnZXQoaWQpIHtcbiAgICByZXR1cm4gcmVzb3VyY2Uub25lKGlkKS5nZXQoKVxuICB9XG59XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2VzL2FuZ3VsYXIifQ==
