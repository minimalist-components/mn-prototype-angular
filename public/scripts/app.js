"use strict";function ApiConfig(RestangularProvider){function test(data,operation){return"save"===operation&&console.log(operation),data}RestangularProvider.setBaseUrl("http://localhost:4000"),RestangularProvider.setRestangularFields({id:"_id"}),RestangularProvider.addResponseInterceptor(test)}function appConfig($locationProvider,$stateProvider){$locationProvider.html5Mode(!0),$stateProvider.state("app",{"abstract":!0,views:{main:{templateUrl:"templates/app.template.html"}}})}function AuthenticationConfig($authProvider){$authProvider.loginUrl="//localhost:4000/users/authenticate",$authProvider.authHeader="Authorization",$authProvider.tokenType="",$authProvider.authToken="",$authProvider.storageType="localStorage"}function AuthenticationService($auth){this.login=function(user){return $auth.login(user)},this.logout=function(){return $auth.logout()},this.status=function(){return $auth.isAuthenticated()},this.user=function(){return $auth.getPayload()}}function HomeConfig($stateProvider){$stateProvider.state("app.home",{url:"/",redirectTo:"app.users"})}function loadingConfig(cfpLoadingBarProvider){cfpLoadingBarProvider.includeSpinner=!1,cfpLoadingBarProvider.includeBar=!0}function LoginConfig($stateProvider){$stateProvider.state("login",{url:"/login",views:{main:{templateUrl:"templates/login.template.html",controller:"LoginController",controllerAs:"login"}}})}function LoginController(AuthenticationService,$state){function authenticate(){function redirectToHome(){$state.go("app.home")}AuthenticationService.login(this.credentials).then(redirectToHome)}var email=void 0,password=void 0;this.credentials={email:email,password:password},this.authenticate=authenticate}function LoginRun($rootScope,$state,AuthenticationService){function requireAuthentication(event,toState){var stateRequireLogin=toState.name.startsWith("app."),isAuthenticated=AuthenticationService.status();stateRequireLogin&&!isAuthenticated&&(event.preventDefault(),$state.go("login"))}$rootScope.$on("$stateChangeStart",requireAuthentication)}function PromisesConfig($qProvider){$qProvider.errorOnUnhandledRejections(!1)}function UsersConfig($stateProvider){$stateProvider.state("app.users",{url:"/users",views:{"content@app":{templateUrl:"templates/users-list.template.html",controller:"UsersController",controllerAs:"users",resolve:{list:function(Users){return Users.list()},data:function(){return null}}}}}).state("app.users.create",{url:"/create",views:{"content@app":{templateUrl:"templates/users-form.template.html",controller:"UsersController",controllerAs:"users",resolve:{list:function(){return null},data:function(Users){return Users.create()}}}}}).state("app.users.edit",{url:"/:id",views:{"content@app":{templateUrl:"templates/users-form.template.html",controller:"UsersController",controllerAs:"users",resolve:{list:function(){return null},data:function(Users,$stateParams){return Users.get($stateParams.id)}}}}})}function UsersController(list,data){this.list=list,this.data=data}function UsersService(Restangular){function list(){return resource.getList()}function get(id){return resource.one(id).get()}function create(){return resource.one()}var resource=Restangular.service("users");this.list=list,this.get=get,this.create=create}angular.module("prototype",["ui.router","ui.router.redirect","satellizer","mn-form","mn-input","restangular","angular-loading-bar","ngAnimate"]),ApiConfig.$inject=["RestangularProvider"],angular.module("prototype").config(ApiConfig),appConfig.$inject=["$locationProvider","$stateProvider"],angular.module("prototype").config(appConfig),AuthenticationConfig.$inject=["$authProvider"],angular.module("prototype").config(AuthenticationConfig),AuthenticationService.$inject=["$auth"],angular.module("prototype").service("AuthenticationService",AuthenticationService),HomeConfig.$inject=["$stateProvider"],angular.module("prototype").config(HomeConfig),loadingConfig.$inject=["cfpLoadingBarProvider"],angular.module("prototype").config(loadingConfig),LoginConfig.$inject=["$stateProvider"],angular.module("prototype").config(LoginConfig),LoginController.$inject=["AuthenticationService","$state"],angular.module("prototype").controller("LoginController",LoginController),LoginRun.$inject=["$rootScope","$state","AuthenticationService"],angular.module("prototype").run(LoginRun),PromisesConfig.$inject=["$qProvider"],angular.module("prototype").config(PromisesConfig),UsersConfig.$inject=["$stateProvider"],angular.module("prototype").config(UsersConfig),UsersController.$inject=["list","data"],angular.module("prototype").controller("UsersController",UsersController),UsersService.$inject=["Restangular"],angular.module("prototype").service("Users",UsersService);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImFwaS9hcGkuY29uZmlnLmpzIiwiYXBwL2FwcC5jb25maWcuanMiLCJhdXRoZW50aWNhdGlvbi9hdXRoZW50aWNhdGlvbi5jb25maWcuanMiLCJhdXRoZW50aWNhdGlvbi9hdXRoZW50aWNhdGlvbi5zZXJ2aWNlLmpzIiwiaG9tZS9ob21lLmNvbmZpZy5qcyIsImxvYWRpbmctYmFyL2xvYWRpbmctYmFyLmNvbmZpZy5qcyIsImxvZ2luL2xvZ2luLmNvbmZpZy5qcyIsImxvZ2luL2xvZ2luLmNvbnRyb2xsZXIuanMiLCJsb2dpbi9sb2dpbi5ydW4uanMiLCJwcm9taXNlcy9wcm9taXNlcy5jb25maWcuanMiLCJ1c2Vycy91c2Vycy5jb25maWcuanMiLCJ1c2Vycy91c2Vycy5jb250cm9sbGVyLmpzIiwidXNlcnMvdXNlcnMuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJBcGlDb25maWciLCJSZXN0YW5ndWxhclByb3ZpZGVyIiwidGVzdCIsImRhdGEiLCJvcGVyYXRpb24iLCJjb25zb2xlIiwibG9nIiwic2V0QmFzZVVybCIsInNldFJlc3Rhbmd1bGFyRmllbGRzIiwiaWQiLCJhZGRSZXNwb25zZUludGVyY2VwdG9yIiwiYXBwQ29uZmlnIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCIkc3RhdGVQcm92aWRlciIsImh0bWw1TW9kZSIsInN0YXRlIiwiYWJzdHJhY3QiLCJ2aWV3cyIsIm1haW4iLCJ0ZW1wbGF0ZVVybCIsIkF1dGhlbnRpY2F0aW9uQ29uZmlnIiwiJGF1dGhQcm92aWRlciIsImxvZ2luVXJsIiwiYXV0aEhlYWRlciIsInRva2VuVHlwZSIsImF1dGhUb2tlbiIsInN0b3JhZ2VUeXBlIiwiQXV0aGVudGljYXRpb25TZXJ2aWNlIiwiJGF1dGgiLCJ0aGlzIiwibG9naW4iLCJ1c2VyIiwibG9nb3V0Iiwic3RhdHVzIiwiaXNBdXRoZW50aWNhdGVkIiwiZ2V0UGF5bG9hZCIsIkhvbWVDb25maWciLCJ1cmwiLCJyZWRpcmVjdFRvIiwibG9hZGluZ0NvbmZpZyIsImNmcExvYWRpbmdCYXJQcm92aWRlciIsImluY2x1ZGVTcGlubmVyIiwiaW5jbHVkZUJhciIsIkxvZ2luQ29uZmlnIiwiY29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsIkxvZ2luQ29udHJvbGxlciIsIiRzdGF0ZSIsImF1dGhlbnRpY2F0ZSIsInJlZGlyZWN0VG9Ib21lIiwiZ28iLCJjcmVkZW50aWFscyIsInRoZW4iLCJlbWFpbCIsInBhc3N3b3JkIiwiTG9naW5SdW4iLCIkcm9vdFNjb3BlIiwicmVxdWlyZUF1dGhlbnRpY2F0aW9uIiwiZXZlbnQiLCJ0b1N0YXRlIiwic3RhdGVSZXF1aXJlTG9naW4iLCJuYW1lIiwic3RhcnRzV2l0aCIsInByZXZlbnREZWZhdWx0IiwiJG9uIiwiUHJvbWlzZXNDb25maWciLCIkcVByb3ZpZGVyIiwiZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnMiLCJVc2Vyc0NvbmZpZyIsImNvbnRlbnRAYXBwIiwicmVzb2x2ZSIsImxpc3QiLCJVc2VycyIsImNyZWF0ZSIsIiRzdGF0ZVBhcmFtcyIsImdldCIsIlVzZXJzQ29udHJvbGxlciIsIlVzZXJzU2VydmljZSIsIlJlc3Rhbmd1bGFyIiwicmVzb3VyY2UiLCJnZXRMaXN0Iiwib25lIiwic2VydmljZSIsImFuZ3VsYXIiLCJtb2R1bGUiLCIkaW5qZWN0IiwiY29uZmlnIiwicnVuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQ0lBLFNBQVNBLFdBQVVDLHFCQUtqQixRQUFTQyxNQUFLQyxLQUFNQyxXQUlsQixNQUhrQixTQUFkQSxXQUNGQyxRQUFRQyxJQUFJRixXQUVQRCxLQVJURixvQkFBb0JNLFdBQVcseUJBQy9CTixvQkFBb0JPLHNCQUFzQkMsR0FBSSxRQUM5Q1Isb0JBQW9CUyx1QkFBdUJSLE1DSDdDLFFBQVNTLFdBQVVDLGtCQUFtQkMsZ0JBQ3BDRCxrQkFBa0JFLFdBQVUsR0FFNUJELGVBQWVFLE1BQU0sT0FDbkJDLFlBQVUsRUFDVkMsT0FDRUMsTUFDRUMsWUFBYSxrQ0NQckIsUUFBU0Msc0JBQXFC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QUFxQixrQkFEMUNGLFFBQ0dDLE9BQU8sYUFDUEUsT0FBTzNFLFdDRFZTLHFCQUFxQmlFLFNBQVcsaUJBRGhDRixRQUNHQyxPQUFPLGFBQ1BFLE9BQU9sRSxzQkNEVk8sc0JBQXNCMEQsU0FBVyxTQURqQ0YsUUFDR0MsT0FBTyxhQUNQRixRQUFRLHdCQUF5QnZELHVCQ0RwQ1MsV0FBV2lELFNBQVcsa0JBRHRCRixRQUNHQyxPQUFPLGFBQ1BFLE9BQU9sRCxZQ0RWRyxjQUFjOEMsU0FBVyx5QkFEekJGLFFBQ0dDLE9BQU8sYUFDUEUsT0FBTy9DLGVDRFZJLFlBQVkwQyxTQUFXLGtCQUR2QkYsUUFDR0MsT0FBTyxhQUNQRSxPQUFPM0MsYUNEVkcsZ0JBQWdCdUMsU0FBVyx3QkFBeUIsVUFEcERGLFFBQ0dDLE9BQU8sYUFDUHhDLFdBQVcsa0JBQW1CRSxpQkNEakNTLFNBQVM4QixTQUFXLGFBQWMsU0FBVSx5QkFENUNGLFFBQ0dDLE9BQU8sYUFDUEcsSUFBSWhDLFVDRFBVLGVBQWVvQixTQUFXLGNBRDFCRixRQUNHQyxPQUFPLGFBQ1BFLE9BQU9yQixnQkNEVkcsWUFBWWlCLFNBQVcsa0JBRHZCRixRQUNHQyxPQUFPLGFBQ1BFLE9BQU9sQixhQ0RWUSxnQkFBZ0JTLFNBQVcsT0FBUSxRQURuQ0YsUUFDR0MsT0FBTyxhQUNQeEMsV0FBVyxrQkFBbUJnQyxpQkNEakNDLGFBQWFRLFNBQVcsZUFEeEJGLFFBQ0dDLE9BQU8sYUFDUEYsUUFBUSxRQUFTTCIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyLm1vZHVsZSgncHJvdG90eXBlJywgW1xuICAndWkucm91dGVyJyxcbiAgJ3VpLnJvdXRlci5yZWRpcmVjdCcsXG4gICdzYXRlbGxpemVyJyxcbiAgJ21uLWZvcm0nLFxuICAnbW4taW5wdXQnLFxuICAncmVzdGFuZ3VsYXInLFxuICAnYW5ndWxhci1sb2FkaW5nLWJhcicsXG4gICduZ0FuaW1hdGUnLFxuXSlcbiIsImFuZ3VsYXJcbiAgLm1vZHVsZSgncHJvdG90eXBlJylcbiAgLmNvbmZpZyhBcGlDb25maWcpXG5cbmZ1bmN0aW9uIEFwaUNvbmZpZyhSZXN0YW5ndWxhclByb3ZpZGVyKSB7XG4gIFJlc3Rhbmd1bGFyUHJvdmlkZXIuc2V0QmFzZVVybCgnaHR0cDovL2xvY2FsaG9zdDo0MDAwJylcbiAgUmVzdGFuZ3VsYXJQcm92aWRlci5zZXRSZXN0YW5ndWxhckZpZWxkcyh7aWQ6ICdfaWQnfSlcbiAgUmVzdGFuZ3VsYXJQcm92aWRlci5hZGRSZXNwb25zZUludGVyY2VwdG9yKHRlc3QpXG5cbiAgZnVuY3Rpb24gdGVzdChkYXRhLCBvcGVyYXRpb24pIHsgLy8gd2hhdCwgdXJsLCByZXNwb25zZSwgZGVmZXJyZWRcbiAgICBpZiAob3BlcmF0aW9uID09PSAnc2F2ZScpIHtcbiAgICAgIGNvbnNvbGUubG9nKG9wZXJhdGlvbilcbiAgICB9XG4gICAgcmV0dXJuIGRhdGFcbiAgfVxufVxuIiwiYW5ndWxhclxuICAubW9kdWxlKCdwcm90b3R5cGUnKVxuICAuY29uZmlnKGFwcENvbmZpZylcblxuZnVuY3Rpb24gYXBwQ29uZmlnKCRsb2NhdGlvblByb3ZpZGVyLCAkc3RhdGVQcm92aWRlcikge1xuICAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSlcblxuICAkc3RhdGVQcm92aWRlci5zdGF0ZSgnYXBwJywge1xuICAgIGFic3RyYWN0OiB0cnVlLFxuICAgIHZpZXdzOiB7XG4gICAgICBtYWluOiB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGVzL2FwcC50ZW1wbGF0ZS5odG1sJyxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSlcbn1cbiIsImFuZ3VsYXJcbiAgLm1vZHVsZSgncHJvdG90eXBlJylcbiAgLmNvbmZpZyhBdXRoZW50aWNhdGlvbkNvbmZpZylcblxuZnVuY3Rpb24gQXV0aGVudGljYXRpb25Db25maWcoJGF1dGhQcm92aWRlcikge1xuICAkYXV0aFByb3ZpZGVyLmxvZ2luVXJsID0gJy8vbG9jYWxob3N0OjQwMDAvdXNlcnMvYXV0aGVudGljYXRlJ1xuICAkYXV0aFByb3ZpZGVyLmF1dGhIZWFkZXIgPSAnQXV0aG9yaXphdGlvbidcbiAgJGF1dGhQcm92aWRlci50b2tlblR5cGUgPSAnJ1xuICAkYXV0aFByb3ZpZGVyLmF1dGhUb2tlbiA9ICcnXG4gICRhdXRoUHJvdmlkZXIuc3RvcmFnZVR5cGUgPSAnbG9jYWxTdG9yYWdlJ1xufVxuIiwiYW5ndWxhclxuICAubW9kdWxlKCdwcm90b3R5cGUnKVxuICAuc2VydmljZSgnQXV0aGVudGljYXRpb25TZXJ2aWNlJywgQXV0aGVudGljYXRpb25TZXJ2aWNlKVxuXG5mdW5jdGlvbiBBdXRoZW50aWNhdGlvblNlcnZpY2UoJGF1dGgpIHtcbiAgdGhpcy5sb2dpbiA9IHVzZXIgPT4gJGF1dGgubG9naW4odXNlcilcbiAgdGhpcy5sb2dvdXQgPSAoKSA9PiAkYXV0aC5sb2dvdXQoKVxuICB0aGlzLnN0YXR1cyA9ICgpID0+ICRhdXRoLmlzQXV0aGVudGljYXRlZCgpXG4gIHRoaXMudXNlciA9ICgpID0+ICRhdXRoLmdldFBheWxvYWQoKVxufVxuIiwiYW5ndWxhclxuICAubW9kdWxlKCdwcm90b3R5cGUnKVxuICAuY29uZmlnKEhvbWVDb25maWcpXG5cbmZ1bmN0aW9uIEhvbWVDb25maWcoJHN0YXRlUHJvdmlkZXIpIHtcbiAgJHN0YXRlUHJvdmlkZXJcbiAgICAuc3RhdGUoJ2FwcC5ob21lJywge1xuICAgICAgdXJsOiAnLycsXG4gICAgICByZWRpcmVjdFRvOiAnYXBwLnVzZXJzJyxcbiAgICB9KVxufVxuIiwiYW5ndWxhclxuICAubW9kdWxlKCdwcm90b3R5cGUnKVxuICAuY29uZmlnKGxvYWRpbmdDb25maWcpXG5cbmZ1bmN0aW9uIGxvYWRpbmdDb25maWcoY2ZwTG9hZGluZ0JhclByb3ZpZGVyKSB7XG4gIGNmcExvYWRpbmdCYXJQcm92aWRlci5pbmNsdWRlU3Bpbm5lciA9IGZhbHNlXG4gIGNmcExvYWRpbmdCYXJQcm92aWRlci5pbmNsdWRlQmFyID0gdHJ1ZVxufVxuIiwiYW5ndWxhclxuICAubW9kdWxlKCdwcm90b3R5cGUnKVxuICAuY29uZmlnKExvZ2luQ29uZmlnKVxuXG5mdW5jdGlvbiBMb2dpbkNvbmZpZygkc3RhdGVQcm92aWRlcikge1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZSgnbG9naW4nLCB7XG4gICAgdXJsOiAnL2xvZ2luJyxcbiAgICB2aWV3czoge1xuICAgICAgJ21haW4nOiB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGVzL2xvZ2luLnRlbXBsYXRlLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnTG9naW5Db250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAnbG9naW4nLFxuICAgICAgfSxcbiAgICB9LFxuICB9KVxufVxuXG4iLCJhbmd1bGFyXG4gIC5tb2R1bGUoJ3Byb3RvdHlwZScpXG4gIC5jb250cm9sbGVyKCdMb2dpbkNvbnRyb2xsZXInLCBMb2dpbkNvbnRyb2xsZXIpXG5cbmZ1bmN0aW9uIExvZ2luQ29udHJvbGxlcihBdXRoZW50aWNhdGlvblNlcnZpY2UsICRzdGF0ZSkge1xuICBsZXQgZW1haWxcbiAgbGV0IHBhc3N3b3JkXG5cbiAgdGhpcy5jcmVkZW50aWFscyA9IHtcbiAgICBlbWFpbCxcbiAgICBwYXNzd29yZCxcbiAgfVxuXG4gIHRoaXMuYXV0aGVudGljYXRlID0gYXV0aGVudGljYXRlXG5cbiAgZnVuY3Rpb24gYXV0aGVudGljYXRlKCkge1xuICAgIEF1dGhlbnRpY2F0aW9uU2VydmljZVxuICAgICAgLmxvZ2luKHRoaXMuY3JlZGVudGlhbHMpXG4gICAgICAudGhlbihyZWRpcmVjdFRvSG9tZSlcblxuICAgIGZ1bmN0aW9uIHJlZGlyZWN0VG9Ib21lKCkge1xuICAgICAgJHN0YXRlLmdvKCdhcHAuaG9tZScpXG4gICAgfVxuICB9XG59XG4iLCJhbmd1bGFyXG4gIC5tb2R1bGUoJ3Byb3RvdHlwZScpXG4gIC5ydW4oTG9naW5SdW4pXG5cbmZ1bmN0aW9uIExvZ2luUnVuKCRyb290U2NvcGUsICRzdGF0ZSwgQXV0aGVudGljYXRpb25TZXJ2aWNlKSB7XG4gICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsIHJlcXVpcmVBdXRoZW50aWNhdGlvbilcblxuICBmdW5jdGlvbiByZXF1aXJlQXV0aGVudGljYXRpb24oZXZlbnQsIHRvU3RhdGUpIHtcbiAgICBsZXQgc3RhdGVSZXF1aXJlTG9naW4gPSB0b1N0YXRlLm5hbWUuc3RhcnRzV2l0aCgnYXBwLicpXG4gICAgbGV0IGlzQXV0aGVudGljYXRlZCA9IEF1dGhlbnRpY2F0aW9uU2VydmljZS5zdGF0dXMoKVxuXG4gICAgaWYgKHN0YXRlUmVxdWlyZUxvZ2luICYmICFpc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICRzdGF0ZS5nbygnbG9naW4nKVxuICAgIH1cbiAgfVxufVxuIiwiYW5ndWxhclxuICAubW9kdWxlKCdwcm90b3R5cGUnKVxuICAuY29uZmlnKFByb21pc2VzQ29uZmlnKVxuXG5mdW5jdGlvbiBQcm9taXNlc0NvbmZpZygkcVByb3ZpZGVyKSB7XG4gICRxUHJvdmlkZXIuZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnMoZmFsc2UpXG59XG4iLCJhbmd1bGFyXG4gIC5tb2R1bGUoJ3Byb3RvdHlwZScpXG4gIC5jb25maWcoVXNlcnNDb25maWcpXG5cbmZ1bmN0aW9uIFVzZXJzQ29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICRzdGF0ZVByb3ZpZGVyXG4gICAgLnN0YXRlKCdhcHAudXNlcnMnLCB7XG4gICAgICB1cmw6ICcvdXNlcnMnLFxuICAgICAgdmlld3M6IHtcbiAgICAgICAgJ2NvbnRlbnRAYXBwJzoge1xuICAgICAgICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGVzL3VzZXJzLWxpc3QudGVtcGxhdGUuaHRtbCcsXG4gICAgICAgICAgY29udHJvbGxlcjogJ1VzZXJzQ29udHJvbGxlcicsXG4gICAgICAgICAgY29udHJvbGxlckFzOiAndXNlcnMnLFxuICAgICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgIGxpc3Q6IFVzZXJzID0+IFVzZXJzLmxpc3QoKSxcbiAgICAgICAgICAgIGRhdGE6ICgpID0+IG51bGwsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAuc3RhdGUoJ2FwcC51c2Vycy5jcmVhdGUnLCB7XG4gICAgICB1cmw6ICcvY3JlYXRlJyxcbiAgICAgIHZpZXdzOiB7XG4gICAgICAgICdjb250ZW50QGFwcCc6IHtcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlcy91c2Vycy1mb3JtLnRlbXBsYXRlLmh0bWwnLFxuICAgICAgICAgIGNvbnRyb2xsZXI6ICdVc2Vyc0NvbnRyb2xsZXInLFxuICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3VzZXJzJyxcbiAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICBsaXN0OiAoKSA9PiBudWxsLFxuICAgICAgICAgICAgZGF0YTogKFVzZXJzKSA9PiBVc2Vycy5jcmVhdGUoKVxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pXG4gICAgLnN0YXRlKCdhcHAudXNlcnMuZWRpdCcsIHtcbiAgICAgIHVybDogJy86aWQnLFxuICAgICAgdmlld3M6IHtcbiAgICAgICAgJ2NvbnRlbnRAYXBwJzoge1xuICAgICAgICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGVzL3VzZXJzLWZvcm0udGVtcGxhdGUuaHRtbCcsXG4gICAgICAgICAgY29udHJvbGxlcjogJ1VzZXJzQ29udHJvbGxlcicsXG4gICAgICAgICAgY29udHJvbGxlckFzOiAndXNlcnMnLFxuICAgICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgIGxpc3Q6ICgpID0+IG51bGwsXG4gICAgICAgICAgICBkYXRhOiAoVXNlcnMsICRzdGF0ZVBhcmFtcykgPT4gVXNlcnMuZ2V0KCRzdGF0ZVBhcmFtcy5pZClcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KVxufVxuIiwiYW5ndWxhclxuICAubW9kdWxlKCdwcm90b3R5cGUnKVxuICAuY29udHJvbGxlcignVXNlcnNDb250cm9sbGVyJywgVXNlcnNDb250cm9sbGVyKVxuXG5mdW5jdGlvbiBVc2Vyc0NvbnRyb2xsZXIobGlzdCwgZGF0YSkge1xuICB0aGlzLmxpc3QgPSBsaXN0XG4gIHRoaXMuZGF0YSA9IGRhdGFcbn1cbiIsImFuZ3VsYXJcbiAgLm1vZHVsZSgncHJvdG90eXBlJylcbiAgLnNlcnZpY2UoJ1VzZXJzJywgVXNlcnNTZXJ2aWNlKVxuXG5mdW5jdGlvbiBVc2Vyc1NlcnZpY2UoUmVzdGFuZ3VsYXIpIHtcbiAgY29uc3QgcmVzb3VyY2UgPSBSZXN0YW5ndWxhci5zZXJ2aWNlKCd1c2VycycpXG5cbiAgdGhpcy5saXN0ID0gbGlzdFxuICB0aGlzLmdldCA9IGdldFxuICB0aGlzLmNyZWF0ZSA9IGNyZWF0ZVxuXG4gIGZ1bmN0aW9uIGxpc3QoKSB7XG4gICAgcmV0dXJuIHJlc291cmNlLmdldExpc3QoKVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0KGlkKSB7XG4gICAgcmV0dXJuIHJlc291cmNlLm9uZShpZCkuZ2V0KClcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICByZXR1cm4gcmVzb3VyY2Uub25lKClcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlcy9hbmd1bGFyIn0=
